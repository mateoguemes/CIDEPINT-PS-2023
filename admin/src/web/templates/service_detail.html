{% extends "layout.html" %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='service_detail.css') }}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
{% endblock %}

{% block title %}Detalle de Solicitud de Servicio{% endblock %}

{% block body %}
    <div class="container mt-4">
        <h1>Detalle de Solicitud de Servicio</h1>
        
        <form method="POST">
            <!-- Información del Cliente -->
            <div class="mb-3">
                <h2>Información del Cliente</h2>
                <p>Nombre del Cliente: {{ customer_name }}</p>
                <p>Correo Electrónico: {{ customer_email }}</p>
            </div>

            <!-- Detalle del Pedido de Servicio -->
            <div class="mb-3">
                <h2>Detalle del Pedido de Servicio</h2>
                <p>Nombre del Servicio: {{ service_name }}</p>
                <p>Descripción del Servicio: {{ service_description }}</p>
                <p>Detalle del cliente: {{ requirement_detail }}</p>
            </div>

            <!-- Detalle del Estado de Solicitud -->
            <div class="mb-3">
                <h2>Detalle del Estado de Solicitud</h2>
                <p>Estado: {{ service_state }}</p>
                <p>Observacion: {{ service_observation }}</p>
                <p><a href="/showNotes/{{ requirement_id }}">Ver notas</a></p>
            </div>

            <!-- Archivos Adjuntos / no se implementa para esta entrega -->
            <div class="mb-3">
                <h2>Archivos Adjuntos</h2>
            </div>

            <!-- Cambio de Estado -->
            <div class="mb-3">
                <h2>Cambiar Estado de la Solicitud</h2>
                <select class="form-select" name="new-status">
                    {% for state in states %}
                        <option value="{{ state.id }}">{{ state.name }}</option>
                    {% endfor %}
                </select>
                <input type="text" class="form-control mt-2" name="observation" placeholder="Observaciones" required>
                <button type="submit" class="btn btn-primary mt-2" id="change-status-button">Cambiar Estado</button>
            </div>

            <!-- Botón para volver a service_management -->
            <a href="{{ url_for('solicitudes.index') }}" class="btn btn-secondary">Volver a Gestion</a>
        </form>
    </div>
{% endblock %}



